<%= form_with(model: @run) do |form| %>
  <div class="form-group">
    <%= form.label :date, 'What day did you run?', class: 'form-label' %>
    <%= form.date_field :date, required: true, max: Date.today, class: 'form-input' %>
  </div>

  <div class="form-group">
    <%= form.label :distance, 'How many miles did you run?', class: 'form-label' %>
    <%= form.number_field :distance, required: true, step: :any, placeholder: '1.234', class: 'form-input' %>
  </div>

  <div class="form-group">
    <%= form.label :duration, class: 'form-label' do %>
      <p> How long did you run?
        <span class="text-xs opacity-75 my-1">(hh:mm:ss OR mm:ss)</span>
      </p>
    <% end %>
    <% if @run.duration && @run.hours != 0 %>
      <%= form.text_field :duration_input, required: true, value: "#{@run.hours}:#{@run.minutes}:#{@run.seconds}", placeholder: 'hh:mm:ss', class: 'form-input' %>
    <% elsif @run.duration %>
      <%= form.text_field :duration_input, required: true, value: "#{@run.minutes}:#{@run.seconds}", placeholder: 'hh:mm:ss', class: 'form-input' %>
    <% else %>
      <%= form.text_field :duration_input, required: true, placeholder: 'hh:mm:ss', class: 'form-input' %>
      <% end %>
  </div>

  <div class="form-group">
    <%= form.label :comments, class: 'form-label' do %>
      <p> Any additional comments?
        <span class="text-xs opacity-75 my-1">(optional)</span>
      </p>
    <% end %>
    <%= form.text_area :comments, placeholder: 'Add comments...', data: { controller: 'autogrow', action: 'input->autogrow#grow' },class: 'form-input resize-vertical' %>
  </div>

  <div class="flex items-center justify-between flex-wrap">
  <div class="sm:flex-1 sm:mb-0 mb-6">
    <%= form.submit class: "btn btn-primary" %>
  </div>

  <% if form.object.new_record? %>
    <%= link_to "Cancel", runs_path, class: "btn btn-light" %>
  <% else %>
    <div class="flex gap-6 items-center">
      <%= button_to "Delete", @run, method: :delete, class: "btn btn-destructive", form: { data: { turbo_confirm: "Are you sure?" } } %>
      <%= link_to "Cancel", run_path(@run), class: "btn btn-light" %>
    </div>
  <% end %>
</div>
<% end %>
