<%= link_to team_main_chat_path(team), data: { turbo: false }, class: 'group flex items-center gap-4 sm:gap-6 grow py-6 mb-6 border-b border-slate-200 dark:border-slate-700' do %>
  <div class="grid place-items-center size-12 rounded-lg bg-gradient-to-b from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-800 shrink-0">
    <%= inline_svg_tag "icons/chat.svg", class: 'size-6 text-light' %>
  </div>

  <div class="grow">
    <p class='text-lg font-bold transition duration-200 ease-in-out group-hover:text-indigo-600 dark:group-hover:text-indigo-500'>
      Main Chat
    </p>
    <% preview_message = team.main_chat_topic.last_message %>
    <% if preview_message %>
      <span class="text-soft text-sm line-clamp-1"><%= "#{preview_message.author_name}: #{preview_message.content}" %></span>
    <% else %>
      <span class="text-soft text-sm line-clamp-1 italic">No messages</span>
    <% end %>
  </div>

  <% if preview_message %>
    <span class="text-xs text-soft whitespace-nowrap"><%= time_abbr_format(preview_message.created_at) %></span>
  <% end %>
<% end %>
