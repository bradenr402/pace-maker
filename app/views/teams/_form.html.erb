<%= form_with model: @team, data: { controller: "form-validation" }, html: { novalidate: true } do |form| %>
  <div class="form-group">
    <%= form.label :name, class: 'form-label' %>
    <%= form.text_field :name, class: 'form-input', data: { form_validation_target: 'teamName', action: 'blur->form-validation#validateTeamName' } %>
  </div>

  <div class="form-group">
    <%= form.label :description, class: 'form-label' do %>
      <p> Description
        <span class="help-text">(optional)</span>
      </p>
    <% end %>
    <%= form.text_area :description, placeholder: 'Add a description...', class: 'form-input', data: { controller: 'autogrow', form_validation_target: 'teamDescription', action: 'input->autogrow#grow input->form-validation#validateTeamDescription' } %>
    <p class="help-text my-1">Maximum 500 characters</p>
  </div>

  <div class="flex items-center justify-between flex-wrap">
    <div class="sm:flex-1 sm:mb-0 mb-6">
      <% if form.object.new_record? %>
        <%= form.submit 'Create team', class: 'btn btn-primary' %>
      <% else %>
        <%= form.submit 'Update team', class: 'btn btn-primary' %>
      <% end %>
    </div>

    <div class="flex gap-6 items-center">
      <% unless form.object.new_record? %>
        <%= link_to 'Delete', @team,
                      class: 'btn btn-destructive btn-outline',
                      data: {
                        turbo_method: :delete,
                        turbo_confirm: 'Are you sure you want to delete this team? This action cannot be undone.'
                      } %>
      <% end %>
      <%= link_to 'Cancel', :back, class: 'btn btn-white' %>
    </div>
  </div>
<% end %>
