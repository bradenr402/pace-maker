<% if current_page?(search_path) %>
  <div class="flex items-center gap-1 text-slate-800 dark:text-slate-100 mb-1">
    <%= inline_svg_tag 'icons/user.svg', class: 'size-4' %>
    <p class="text-slate-800 dark:text-slate-100 text-sm mt-0.5">User</p>
  </div>
<% end %>

<%= link_to user, data: { turbo: false }, class: 'group flex gap-4 items-center mr-auto' do %>
  <%= image_tag user.avatar, class: 'size-16 rounded-lg drop-shadow-lg dark:drop-shadow-none' if user.avatar.attached? %>

  <div>
    <%= content_tag(:p,'You', class: 'help-text') if user == current_user %>
    <h2 class='subheading group-hover:text-indigo-600 dark:group-hover:text-indigo-500 transition ease-in-out duration-300'><%= user.default_name %></h2>
    <%= content_tag(:p, user.username, class: 'help-text') if user.display_name.present? %>
  </div>
<% end %>

<% if user != current_user && user.any_owned_teams_in_common?(current_user) %>
  <p class="help-text mt-1">
    <span>Coach of:</span>
    <%= list(items: user.owned_teams_in_common(current_user).map { |team| link_to(team.name, team, data: { turbo: false }, class: 'btn-link') }).html_safe %>
  </p>
<% end %>

<% if user != current_user && user.any_membered_teams_in_common?(current_user) %>
  <p class="help-text mt-1">
    <span>Member of:</span>
    <%= list(items: user.membered_teams_in_common(current_user).map { |team| link_to(team.name, team, data: { turbo: false }, class: 'btn-link') }).html_safe %>
  </p>
<% end %>
